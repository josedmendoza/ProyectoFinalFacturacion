package com.proyecto.service;

import org.springframework.beans.factory.annotation.Autowired;

import com.proyecto.entity.Pedidos;
import com.proyecto.repository.PedidosRepository;

public class PedidosService {
	
	
	private final PedidosRepository pedidosRepository;

	@Autowired
	public PedidosService(PedidosRepository pedidosRepository) {
		this.pedidosRepository = pedidosRepository;
	}
	
	
	public Pedidos crearComprobante (long idPedido, Pedidos pedido ) {
		
		Pedidos crearPedido = pedidosRepository.save(pedido);
		Pedidos buscarPedido = pedidosRepository.findById(idPedido)
				.orElseThrow(() -> new RuntimeException("Cliente no encontrada con ID: " + idPedido));
		
		buscarPedido.setFecha(buscarPedido.getFecha());
		buscarPedido.setCliente(buscarPedido.getCliente());
		buscarPedido.setProductoPedido(buscarPedido.getProductoPedido());
		buscarPedido.setTotal(buscarPedido.getTotal());
		crearPedido = buscarPedido;
		return pedidosRepository.save(pedido);
	}
	
	
	
	

}
